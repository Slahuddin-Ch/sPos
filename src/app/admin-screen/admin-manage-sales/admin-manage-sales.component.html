<div class="sales-filter w-100">
  <form [formGroup]="filterForm" (ngSubmit)="onFilter()">
    <div class="row align-items-end">
      <div class="col-3">
        <div class="form-floating">
          <input type="date" formControlName="from" class="form-control" id="from-date" placeholder="Select Date">
          <label for="from-date"><i class="fas fa-calendar"></i> From Date</label>
        </div>
      </div>
      <div class="col-3">
        <div class="form-floating">
          <input type="date" formControlName="to" class="form-control" id="to-date" placeholder="Select Date">
          <label for="to-date"><i class="fas fa-calendar"></i> To Date</label>
        </div>
      </div>
      <div class="col-3">
        <div class="form-floating">
          <select class="form-select" formControlName="bid" id="business_id">
            <option value="">Select</option>
            <option *ngFor="let opt of businesses" value="{{opt._id}}">{{opt.bname}} ({{opt.bntn}})</option>
          </select>
          <label for="business_id"><i class="fas fa-user"></i> Business</label>
        </div>
      </div>
      <div class="col">
        <button [disabled]="!filterForm.valid" type="submit" class="btn btn-primary btn-lg"><i class="fas fa-filter"></i> Filter</button>
      </div>
      <div class="col">
        <button type="button" (click)="onResetFilter()" class="btn btn-light btn-lg shadow"><i class="fas fa-undo"></i> Reset</button>
      </div>
    </div>
  </form>
</div>

<table class="table mt-4" [hidden]="sales.length===0">
  <thead>
    <th>No. Of Sales</th>
    <th>Method</th>
    <th>Total</th>
    <th>Delete Amount</th>
    <th>Action</th>
  </thead>
  <tbody>
    <tr *ngFor="let count of counter | keyvalue;">
      <td>{{getObject(count.value).sales}}</td>
      <td class="text-capitalize">{{count.key}}</td>
      <td>{{getObject(count.value).total}}</td>
      <td><input type="number" id="delete_amount_{{count.key}}" class="form-control form-control-sm" style="max-width: 150px" value="0"></td>
      <td>
        <button type="button" (click)="deleteSale('delete_amount_', count.value)" class="btn btn-sm btn-primary"><i class="fas fa-trash"></i></button>
      </td>
    </tr>
  </tbody>
</table>

<div class="mt-5 fs-3 text-muted text-center" *ngIf="sales.length===0">
  <i class="fas fa-ban d-block fa-3x"></i>
  No Sale Found
</div>
